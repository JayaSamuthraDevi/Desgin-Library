@if(skeleton()) {
<span class="cds--label cds--skeleton"></span>
<div class="cds--text-input cds--skeleton"></div>
} @else {
@if(label()) {
<label class="cds--label" [class.cds--label--disabled]="disabled()">
  {{ label() }}
</label>
}

<div class="cds--password-input-wrapper cds--text-input-wrapper" [class.cds--text-input--fluid]="fluid()"
  [class.cds--text-input--fluid__skeleton]="skeleton()">

  <div class="cds--text-input__field-wrapper" [class.cds--text-input__field-wrapper--warning]="warn()"
    [attr.data-invalid]="invalid() || null">

    <!-- Invalid / warning icons -->
    @if(invalid() && !warn()) {
    <svg cdsIcon="warning--filled" size="16" class="cds--text-input__invalid-icon"></svg>
    }
    @if(warn() && !invalid()) {
    <svg cdsIcon="warning--alt--filled" size="16"
      class="cds--text-input__invalid-icon cds--text-input__invalid-icon--warning"></svg>
    }

    <!-- Input -->
    <input [type]="showPassword() ? 'text' : 'password'" class="cds--text-input cds--password-input"
      [placeholder]="placeholder()" [value]="value()" [disabled]="disabled()"
      (input)="setValue($any($event.target).value)" (blur)="markAsTouched()" />

    <!-- Toggle button -->
    <button type="button" class="cds--text-input--password__visibility__toggle cds--btn cds--btn--icon-only"
      (click)="togglePasswordVisibility()" [disabled]="disabled()"
      [attr.aria-label]="showPassword() ? hidePasswordLabel : showPasswordLabel">
      @if(showPassword()) {
      <svg cdsIcon="view--off" size="16" class="cds--icon-visibility-off"></svg>
      } @else {
      <svg cdsIcon="view" size="16" class="cds--icon-visibility-on"></svg>
      }
    </button>
  </div>

  <!-- Helper / Invalid / Warn text -->
  @if(!invalid() && !warn() && helperText()) {
  <div class="cds--form__helper-text">{{ helperText() }}</div>
  }
  @if(invalid() && invalidText()) {
  <div class="cds--form-requirement">{{ invalidText() }}</div>
  }
  @if(warn() && warnText()) {
  <div class="cds--form-requirement">{{ warnText() }}</div>
  }
</div>
}