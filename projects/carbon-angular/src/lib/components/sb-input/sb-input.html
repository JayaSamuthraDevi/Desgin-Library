@if (skeleton()) {
<span class="cds--label cds--skeleton"></span>
<div class="cds--text-input cds--skeleton"></div>
} @else { @if (label()) {
<label class="cds--label" [attr.for]="inputId">
  {{ label() }}
  @if (required()) {
  <span aria-hidden="true" class="cds--input-required">*</span>
  }
</label>
}

<div class="cds--text-input__field-outer-wrapper">
  <div class="cds--text-input__field-wrapper">
    <!-- Left icon -->
    @if (iconName() !== undefined) {
    <sb-icon
      class="cds--text-input__icon cds--text-input__icon--left"
      [name]="iconName()!"
      size="md"
    />
    }

    <!-- Input -->
    <input
      class="cds--text-input effectiveType() === 'password' ? 'cds--password-input' : ''"
      [id]="inputId"
      [type]="effectiveType()"
      [placeholder]="placeholder()"
      [value]="value()"
      (input)="onInput($event)"
      [readonly]="readonly()"
      [disabled]="disabled()"
      [attr.aria-required]="required()"
      [attr.aria-invalid]="invalid || null"
      [attr.aria-describedby]="describedBy"
    />

    <!-- Password toggle -->
    @if (type() === 'password') {
    <sb-icon
      class="cds--text-input--password__visibility__toggle"
      (click)="togglePassword()"
      [name]="showPassword() ? 'hide' : 'view'"
      size="md"
      tabindex="0"
      aria-label="Toggle password visibility"
    />
    }

    <!-- Right icon -->
    @if (iconRightName() !== undefined) {
    <sb-icon
      class="cds--text-input__icon cds--text-input__icon--right"
      [name]="iconRightName()!"
      size="md"
    />
    }
  </div>

  <!-- Helper -->
  @if (helperText()) {
  <div class="cds--form__helper-text" [id]="inputId + '-helper'">{{ helperText() }}</div>
  }

  <!-- Hint -->
  @if (hint()) {
  <div class="cds--form__hint-text" [id]="inputId + '-hint'">{{ hint() }}</div>
  }

  <!-- Error -->
  @if (errorMessage) {
  <div class="cds--form-requirement" [id]="inputId + '-error'">{{ errorMessage }}</div>
  }
</div>
}
